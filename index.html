<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Model Comparator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .ai-output-column {
            transition: all 0.3s ease-in-out;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-radius: 50%;
            border-top: 4px solid #3498db;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-900 text-white">

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500">Multi-AI Prompt Comparator</h1>
            <p class="text-gray-400 mt-2">Send one prompt to four different AI models and see their responses side-by-side.</p>
        </header>

        <main>
            <div class="bg-gray-800 p-6 rounded-xl shadow-lg mb-8 sticky top-4 z-10">
                <div class="flex flex-col md:flex-row gap-4">
                    <input type="text" id="prompt-input" class="flex-grow bg-gray-700 text-white border border-gray-600 rounded-lg p-4 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter your prompt here...">
                    <button id="send-prompt" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300">
                        Send Prompt
                    </button>
                </div>
            </div>

            <div id="api-key-warning" class="hidden bg-yellow-900/50 border border-yellow-700 text-yellow-300 px-4 py-3 rounded-lg mb-6" role="alert">
                <p class="font-bold">API Keys Needed!</p>
                <p class="text-sm">Please open this HTML file in a text editor and add your API keys to the `apiKeys` object in the JavaScript section to use the tool.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6" id="results-grid">
                <!-- AI Output columns will be dynamically inserted here -->
            </div>
        </main>
    </div>

    <script>
        // --- CONFIGURATION ---
        // IMPORTANT: Replace these with your actual API keys.
        const apiKeys = {
            gemini: '', // Your Google AI Studio API Key
            openai: '', // Your OpenAI (ChatGPT) API Key
            grok: '',   // Your Grok API Key
            blackbox: '' // Your Blackbox AI API Key
        };

        // --- DOM ELEMENTS ---
        const promptInput = document.getElementById('prompt-input');
        const sendButton = document.getElementById('send-prompt');
        const resultsGrid = document.getElementById('results-grid');
        const apiKeyWarning = document.getElementById('api-key-warning');

        // --- AI MODELS CONFIGURATION ---
        const aiModels = [
            { name: 'Gemini', key: 'gemini', color: 'blue' },
            { name: 'ChatGPT', key: 'openai', color: 'green' },
            { name: 'Grok', key: 'grok', color: 'indigo' },
            { name: 'Blackbox', key: 'blackbox', color: 'gray' }
        ];

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            // Check if any API key is missing and show a warning.
            if (Object.values(apiKeys).some(key => key === '')) {
                apiKeyWarning.classList.remove('hidden');
            }
            // Create initial placeholder cards for each AI model.
            aiModels.forEach(model => createResponseCard(model));
        });

        // --- EVENT LISTENERS ---
        sendButton.addEventListener('click', handleSendPrompt);
        promptInput.addEventListener('keyup', (event) => {
            if (event.key === 'Enter') {
                handleSendPrompt();
            }
        });

        /**
         * Handles the click event for the send prompt button.
         * It retrieves the prompt, validates it, and initiates API calls.
         */
        async function handleSendPrompt() {
            const prompt = promptInput.value.trim();
            if (!prompt) {
                alert("Please enter a prompt.");
                return;
            }

            // Reset UI and show loaders
            aiModels.forEach(model => {
                const outputElement = document.getElementById(`output-${model.key}`);
                if (outputElement) {
                    outputElement.innerHTML = '<div class="loader mx-auto"></div>';
                }
            });

            // Create an array of promises for each API call
            const apiPromises = aiModels.map(model => fetchAIResponse(prompt, model.key));

            // Wait for all promises to settle (either resolve or reject)
            const results = await Promise.allSettled(apiPromises);

            // Process and display the results
            results.forEach((result, index) => {
                const modelKey = aiModels[index].key;
                const outputElement = document.getElementById(`output-${modelKey}`);
                if (outputElement) {
                    if (result.status === 'fulfilled') {
                        outputElement.innerText = result.value;
                    } else {
                        console.error(`Error fetching from ${modelKey}:`, result.reason);
                        outputElement.innerHTML = `<span class="text-red-400">Error: ${result.reason.message}</span>`;
                    }
                }
            });
        }

        /**
         * Creates a card in the UI for a given AI model.
         * @param {object} model - The AI model configuration object.
         */
        function createResponseCard(model) {
            const card = document.createElement('div');
            card.className = `ai-output-column bg-gray-800 p-5 rounded-xl shadow-lg border border-${model.color}-500/30`;
            card.innerHTML = `
                <h2 class="text-xl font-semibold mb-4 text-${model.color}-400">${model.name}</h2>
                <div id="output-${model.key}" class="text-gray-300 whitespace-pre-wrap break-words">Waiting for prompt...</div>
            `;
            resultsGrid.appendChild(card);
        }

        /**
         * Fetches a response from the specified AI model.
         * @param {string} prompt - The user's prompt.
         * @param {string} modelKey - The key identifying the AI model ('gemini', 'openai', etc.).
         * @returns {Promise<string>} A promise that resolves with the AI's response text.
         */
        async function fetchAIResponse(prompt, modelKey) {
            const apiKey = apiKeys[modelKey];
            if (!apiKey) {
                throw new Error("API key is missing.");
            }

            switch (modelKey) {
                case 'gemini':
                    return fetchGemini(prompt, apiKey);
                case 'openai':
                    return fetchOpenAI(prompt, apiKey);
                case 'grok':
                    return fetchGrok(prompt, apiKey);
                case 'blackbox':
                    return fetchBlackbox(prompt, apiKey);
                default:
                    throw new Error("Unknown AI model.");
            }
        }

        // --- API-SPECIFIC FETCH FUNCTIONS ---

        /**
         * Fetches response from Google's Gemini API.
         */
        async function fetchGemini(prompt, apiKey) {
            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${apiKey}`;
            const response = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
            });
            if (!response.ok) throw new Error(`Gemini API error: ${response.statusText}`);
            const data = await response.json();
            return data.candidates[0].content.parts[0].text.trim();
        }

        /**
         * Fetches response from OpenAI's ChatGPT API.
         */
        async function fetchOpenAI(prompt, apiKey) {
            const url = 'https://api.openai.com/v1/chat/completions';
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${apiKey}`
                },
                body: JSON.stringify({
                    model: "gpt-3.5-turbo",
                    messages: [{ role: "user", content: prompt }]
                })
            });
            if (!response.ok) throw new Error(`OpenAI API error: ${response.statusText}`);
            const data = await response.json();
            return data.choices[0].message.content.trim();
        }

        /**
         * Fetches response from Grok's API.
         * NOTE: This is a hypothetical implementation based on common API structures.
         * You will need to replace this with the actual Grok API endpoint and request format.
         */
        async function fetchGrok(prompt, apiKey) {
            const url = 'https://api.x.ai/v1/chat/completions'; // Placeholder URL
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${apiKey}`
                },
                body: JSON.stringify({
                    model: "grok-1", // Placeholder model
                    messages: [{ role: "user", content: prompt }]
                })
            });
            if (!response.ok) throw new Error(`Grok API error: ${response.statusText}`);
            const data = await response.json();
            // Adjust the next line based on the actual API response structure
            return data.choices[0].message.content.trim();
        }

        /**
         * Fetches response from Blackbox AI's API.
         */
        async function fetchBlackbox(prompt, apiKey) {
            const url = 'https://api.blackbox.ai/chat/completions';
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${apiKey}`
                },
                body: JSON.stringify({
                    model: "blackboxai/openai/gpt-4", // Example model
                    messages: [{ role: "user", content: prompt }]
                })
            });
            if (!response.ok) throw new Error(`Blackbox AI error: ${response.statusText}`);
            const data = await response.json();
            // Adjust the next line based on the actual API response structure
            return data.choices[0].message.content.trim();
        }
    </script>
</body>
</html>
